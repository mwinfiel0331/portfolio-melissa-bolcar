<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MyNextHome - Solution Architecture & High-Level Design</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Sora:wght@300;400;600;700;800&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <style>
        :root {
            --primary-blue: #0066FF;
            --deep-blue: #0047AB;
            --light-blue: #4D94FF;
            --sky-blue: #E6F2FF;
            --dark: #0A1628;
            --text: #1E293B;
            --text-light: #64748B;
            --white: #FFFFFF;
            --gray-light: #F8FAFC;
            --gray-border: #E2E8F0;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Space Grotesk', sans-serif;
            background: var(--white);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        nav {
            position: fixed;
            top: 0;
            width: 100%;
            padding: 1.5rem 4rem;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 100;
            background: rgba(255, 255, 255, 0.98);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--gray-border);
        }

        .logo {
            font-family: 'Sora', sans-serif;
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--deep-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            letter-spacing: -0.02em;
        }

        .hero {
            min-height: 60vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 8rem 4rem 4rem;
            position: relative;
            background: linear-gradient(135deg, var(--sky-blue) 0%, var(--white) 50%);
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 50%;
            height: 100%;
            background: radial-gradient(circle at top right, var(--light-blue) 0%, transparent 70%);
            opacity: 0.15;
            pointer-events: none;
        }

        .hero-content {
            max-width: 1100px;
            position: relative;
            z-index: 1;
            text-align: center;
        }

        .hero h1 {
            font-family: 'Sora', sans-serif;
            font-size: clamp(2.5rem, 6vw, 4rem);
            line-height: 1.1;
            font-weight: 800;
            margin-bottom: 1.5rem;
            letter-spacing: -0.03em;
            color: var(--dark);
        }

        .hero h1 .accent {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--deep-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.15rem;
            color: var(--text-light);
            max-width: 800px;
            margin: 0 auto 2rem;
            line-height: 1.8;
        }

        .hero .description {
            font-size: 1.25rem;
            color: var(--text);
            max-width: 900px;
            margin: 0 auto 1rem;
            line-height: 1.9;
            font-weight: 500;
        }

        section {
            padding: 5rem 4rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .section-title {
            font-family: 'Sora', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 3rem;
            color: var(--dark);
            text-align: center;
        }

        .section-title .accent {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--deep-blue) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .collapsible {
            margin-bottom: 1.5rem;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
            border: 1px solid var(--gray-border);
            background: var(--white);
            transition: all 0.3s ease;
        }

        .collapsible:hover {
            box-shadow: 0 4px 16px rgba(0, 102, 255, 0.1);
        }

        .collapsible-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.5rem 2rem;
            cursor: pointer;
            background: var(--white);
            transition: background 0.3s ease;
        }

        .collapsible-header:hover {
            background: var(--gray-light);
        }

        .collapsible-title {
            font-family: 'Sora', sans-serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .collapsible-icon {
            font-size: 1.8rem;
        }

        .collapsible-toggle {
            font-size: 1.5rem;
            color: var(--primary-blue);
            transition: transform 0.3s ease;
        }

        .collapsible-toggle.open {
            transform: rotate(180deg);
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .collapsible-content.open {
            max-height: 5000px;
        }

        .collapsible-body {
            padding: 2rem;
            background: var(--gray-light);
        }

        .tech-badge {
            display: inline-block;
            padding: 0.5rem 1rem;
            margin: 0.25rem;
            border-radius: 6px;
            font-size: 0.85rem;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .tech-badge:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 102, 255, 0.2);
        }

        .bg-green { background: #D1FAE5; color: #065F46; }
        .bg-blue { background: #DBEAFE; color: #1E40AF; }
        .bg-purple { background: #E9D5FF; color: #6B21A8; }
        .bg-indigo { background: #E0E7FF; color: #3730A3; }
        .bg-cyan { background: #CFFAFE; color: #155E75; }
        .bg-orange { background: #FED7AA; color: #9A3412; }
        .bg-pink { background: #FECDD3; color: #9F1239; }
        .bg-red { background: #FEE2E2; color: #991B1B; }
        .bg-rose { background: #FFE4E6; color: #9F1239; }
        .bg-violet { background: #EDE9FE; color: #5B21B6; }
        .bg-fuchsia { background: #FAE8FF; color: #86198F; }
        .bg-emerald { background: #D1FAE5; color: #047857; }
        .bg-teal { background: #CCFBF1; color: #115E59; }

        .grid {
            display: grid;
            gap: 2rem;
        }

        .grid-2 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
        .grid-3 { grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); }
        .grid-4 { grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); }

        .card {
            background: var(--white);
            padding: 1.5rem;
            border-radius: 12px;
            border: 1px solid var(--gray-border);
            transition: all 0.3s ease;
        }

        .card:hover {
            box-shadow: 0 8px 24px rgba(0, 102, 255, 0.15);
            transform: translateY(-4px);
        }

        .card h3 {
            font-family: 'Sora', sans-serif;
            font-size: 1.25rem;
            font-weight: 700;
            margin-bottom: 0.75rem;
            color: var(--dark);
        }

        .card h4 {
            font-family: 'Sora', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--primary-blue);
        }

        .card p, .card li {
            font-size: 0.95rem;
            color: var(--text-light);
            line-height: 1.6;
        }

        .card ul {
            list-style: none;
            padding-left: 0;
        }

        .card ul li::before {
            content: '‚Ä¢';
            color: var(--primary-blue);
            font-weight: bold;
            display: inline-block;
            width: 1em;
            margin-left: 0;
        }

        .flow-box {
            padding: 1.5rem;
            border-radius: 12px;
            border: 2px solid var(--gray-border);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .flow-box:hover {
            transform: scale(1.02);
            box-shadow: 0 4px 16px rgba(0, 102, 255, 0.2);
            border-color: var(--primary-blue);
        }

        .flow-box h4 {
            font-family: 'Sora', sans-serif;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }

        .flow-box p {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .flow-arrow {
            text-align: center;
            font-size: 2rem;
            color: var(--primary-blue);
            margin: 1rem 0;
        }

        .metric-card {
            padding: 1.5rem;
            background: var(--white);
            border-radius: 12px;
            border-left: 4px solid var(--primary-blue);
            margin-bottom: 1rem;
            transition: all 0.3s ease;
        }

        .metric-card:hover {
            border-left-width: 8px;
            transform: translateX(4px);
            box-shadow: 0 4px 16px rgba(0, 102, 255, 0.15);
        }

        .metric-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 0.5rem;
        }

        .metric-card h4 {
            font-family: 'Sora', sans-serif;
            font-weight: 600;
            color: var(--text);
        }

        .metric-value {
            font-family: 'Sora', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            color: var(--primary-blue);
        }

        .metric-description {
            font-size: 0.9rem;
            color: var(--text-light);
        }

        .highlight-box {
            padding: 1.5rem;
            background: linear-gradient(135deg, var(--sky-blue) 0%, #F0F9FF 100%);
            border-radius: 12px;
            border-left: 4px solid var(--primary-blue);
            margin: 1.5rem 0;
        }

        .highlight-box h4 {
            font-family: 'Sora', sans-serif;
            font-weight: 700;
            color: var(--dark);
            margin-bottom: 1rem;
        }

        .highlight-box ul {
            list-style: none;
            padding-left: 0;
        }

        .highlight-box li {
            padding: 0.5rem 0;
            color: var(--text);
            display: flex;
            align-items: start;
        }

        .highlight-box li::before {
            content: '‚úì';
            color: var(--primary-blue);
            font-weight: bold;
            margin-right: 0.75rem;
            font-size: 1.2rem;
        }

        pre {
            background: var(--dark);
            color: #D4D4D4;
            padding: 1.5rem;
            border-radius: 8px;
            overflow-x: auto;
            font-size: 0.85rem;
            line-height: 1.6;
            margin: 1rem 0;
        }

        .badge {
            display: inline-block;
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .badge-green { background: #D1FAE5; color: #065F46; }
        .badge-blue { background: #DBEAFE; color: #1E40AF; }
        .badge-purple { background: #E9D5FF; color: #6B21A8; }
        .badge-orange { background: #FED7AA; color: #9A3412; }
        .badge-pink { background: #FECDD3; color: #9F1239; }

        footer {
            text-align: center;
            padding: 3rem 2rem;
            background: var(--gray-light);
            color: var(--text-light);
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            nav {
                padding: 1rem 2rem;
            }

            .hero {
                padding: 6rem 2rem 3rem;
            }

            section {
                padding: 3rem 2rem;
            }

            .collapsible-body {
                padding: 1.5rem;
            }

            .grid-2, .grid-3, .grid-4 {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <nav>
        <div class="logo">üè† MyNextHome</div>
    </nav>

    <div class="hero">
        <div class="hero-content">
            <h1>Solution Architecture &<br><span class="accent">High-Level Design</span></h1>
            <p class="description">
                MyNextHome is a real estate market analytics platform that helps homebuyers and investors identify 
                the best geographical areas for investment using a comprehensive multi-factor scoring system. 
                By analyzing market trends, demographic data, and economic indicators across the entire US, 
                the platform provides data-driven insights to make informed real estate investment decisions.
            </p>
            <p>Real Estate Market Analytics Platform - Technical Documentation</p>
        </div>
    </div>

    <div id="root"></div>

    <footer>
        <p>MyNextHome Architecture Documentation</p>
        <p style="margin-top: 0.5rem;">Last Updated: January 2024 ‚Ä¢ Version 1.0</p>
    </footer>

    <script type="text/babel">
        const { useState } = React;

        const CollapseSection = ({ title, children, defaultOpen = false, icon }) => {
            const [isOpen, setIsOpen] = useState(defaultOpen);
            
            return (
                <div className="collapsible">
                    <div 
                        className="collapsible-header"
                        onClick={() => setIsOpen(!isOpen)}
                    >
                        <div className="collapsible-title">
                            <span className="collapsible-icon">{icon}</span>
                            {title}
                        </div>
                        <span className={`collapsible-toggle ${isOpen ? 'open' : ''}`}>‚ñº</span>
                    </div>
                    <div className={`collapsible-content ${isOpen ? 'open' : ''}`}>
                        <div className="collapsible-body">
                            {children}
                        </div>
                    </div>
                </div>
            );
        };

        const TechBadge = ({ name, color }) => (
            <span className={`tech-badge ${color}`}>
                {name}
            </span>
        );

        const FlowBox = ({ title, description, color }) => (
            <div className={`flow-box ${color}`}>
                <h4>{title}</h4>
                <p>{description}</p>
            </div>
        );

        const MetricCard = ({ title, value, description }) => (
            <div className="metric-card">
                <div className="metric-header">
                    <h4>{title}</h4>
                    <span className="metric-value">{value}</span>
                </div>
                <p className="metric-description">{description}</p>
            </div>
        );

        const App = () => {
            return (
                <section>
                    {/* Executive Summary */}
                    <CollapseSection title="Executive Summary" icon="üìã" defaultOpen={true}>
                        <div className="grid grid-2">
                            <div>
                                <h3>Project Overview</h3>
                                <p style={{ marginBottom: '1.5rem', color: 'var(--text-light)' }}>
                                    MyNextHome is a real estate market analytics platform designed to help homebuyers 
                                    and investors make data-driven decisions across the nationwide US real estate market.
                                </p>
                                <h4 style={{ marginBottom: '0.75rem', color: 'var(--primary-blue)' }}>Core Capabilities:</h4>
                                <ul style={{ listStyle: 'none', paddingLeft: 0 }}>
                                    <li style={{ marginBottom: '0.5rem', color: 'var(--text-light)' }}>
                                        <span style={{ color: 'var(--primary-blue)', marginRight: '0.5rem', fontWeight: 'bold' }}>‚Ä¢</span>
                                        Multi-factor investment scoring (0-100 scale)
                                    </li>
                                    <li style={{ marginBottom: '0.5rem', color: 'var(--text-light)' }}>
                                        <span style={{ color: 'var(--primary-blue)', marginRight: '0.5rem', fontWeight: 'bold' }}>‚Ä¢</span>
                                        Historical market trend analysis
                                    </li>
                                    <li style={{ marginBottom: '0.5rem', color: 'var(--text-light)' }}>
                                        <span style={{ color: 'var(--primary-blue)', marginRight: '0.5rem', fontWeight: 'bold' }}>‚Ä¢</span>
                                        Demographic integration from US Census
                                    </li>
                                    <li style={{ marginBottom: '0.5rem', color: 'var(--text-light)' }}>
                                        <span style={{ color: 'var(--primary-blue)', marginRight: '0.5rem', fontWeight: 'bold' }}>‚Ä¢</span>
                                        RESTful API for data access
                                    </li>
                                    <li style={{ marginBottom: '0.5rem', color: 'var(--text-light)' }}>
                                        <span style={{ color: 'var(--primary-blue)', marginRight: '0.5rem', fontWeight: 'bold' }}>‚Ä¢</span>
                                        Comprehensive ETL pipeline
                                    </li>
                                </ul>
                            </div>
                            <div>
                                <h3 style={{ marginBottom: '1.5rem' }}>Key Metrics</h3>
                                <MetricCard 
                                    title="Geography Coverage" 
                                    value="50K+" 
                                    description="ZIP codes, counties, states across the US"
                                />
                                <MetricCard 
                                    title="Data Points" 
                                    value="36" 
                                    description="Months of historical market data"
                                />
                                <MetricCard 
                                    title="API Response Time" 
                                    value="<500ms" 
                                    description="p95 response time target"
                                />
                            </div>
                        </div>
                    </CollapseSection>

                    {/* Technology Stack */}
                    <CollapseSection title="Technology Stack" icon="üõ†Ô∏è" defaultOpen={true}>
                        <div className="grid grid-3">
                            <div>
                                <h3 style={{ marginBottom: '1rem' }}>Backend</h3>
                                <TechBadge name="Node.js 18+" color="bg-green" />
                                <TechBadge name="TypeScript 5.x" color="bg-blue" />
                                <TechBadge name="Fastify 5.x" color="bg-purple" />
                                <TechBadge name="Prisma 6.x" color="bg-indigo" />
                                <TechBadge name="PostgreSQL 14+" color="bg-cyan" />
                            </div>
                            <div>
                                <h3 style={{ marginBottom: '1rem' }}>Data Processing</h3>
                                <TechBadge name="Papa Parse" color="bg-orange" />
                                <TechBadge name="date-fns" color="bg-pink" />
                                <TechBadge name="BullMQ" color="bg-red" />
                                <TechBadge name="Redis" color="bg-rose" />
                            </div>
                            <div>
                                <h3 style={{ marginBottom: '1rem' }}>Development</h3>
                                <TechBadge name="ESLint" color="bg-violet" />
                                <TechBadge name="tsx" color="bg-fuchsia" />
                                <TechBadge name="npm" color="bg-emerald" />
                                <TechBadge name="Git" color="bg-teal" />
                            </div>
                        </div>
                    </CollapseSection>

                    {/* System Architecture */}
                    <CollapseSection title="System Architecture" icon="üèóÔ∏è">
                        <div>
                            <h3 style={{ marginBottom: '1.5rem' }}>High-Level Architecture</h3>
                            <div style={{ background: 'linear-gradient(135deg, var(--sky-blue) 0%, #F0F9FF 100%)', padding: '2rem', borderRadius: '12px' }}>
                                <FlowBox 
                                    title="External Data Sources" 
                                    description="Redfin Data Center (CSV), US Census Bureau API"
                                    color="card"
                                    style={{ background: '#DBEAFE' }}
                                />
                                <div className="flow-arrow">‚Üì</div>
                                <FlowBox 
                                    title="ETL Pipeline Layer" 
                                    description="Redfin ETL, Census ETL, Investment Score Calculator"
                                    color="card"
                                    style={{ background: '#D1FAE5' }}
                                />
                                <div className="flow-arrow">‚Üì</div>
                                <FlowBox 
                                    title="Data Storage Layer" 
                                    description="PostgreSQL (Star Schema), Redis Cache (Future)"
                                    color="card"
                                    style={{ background: '#FEF3C7' }}
                                />
                                <div className="flow-arrow">‚Üì</div>
                                <FlowBox 
                                    title="Application Layer" 
                                    description="REST API (Fastify), GraphQL API (Future)"
                                    color="card"
                                    style={{ background: '#E9D5FF' }}
                                />
                                <div className="flow-arrow">‚Üì</div>
                                <FlowBox 
                                    title="Client Applications" 
                                    description="Web App (Future), Mobile Apps (Future), API Consumers"
                                    color="card"
                                    style={{ background: '#FECDD3' }}
                                />
                            </div>

                            <div style={{ marginTop: '2rem' }}>
                                <h3 style={{ marginBottom: '1.5rem' }}>Architecture Patterns</h3>
                                <div className="grid grid-2">
                                    <div className="card">
                                        <h4>Star Schema (Dimensional Model)</h4>
                                        <p>Optimized for analytics with facts and dimensions</p>
                                    </div>
                                    <div className="card">
                                        <h4>ETL Pipeline Pattern</h4>
                                        <p>Extract-Transform-Load for data integration</p>
                                    </div>
                                    <div className="card">
                                        <h4>Repository Pattern</h4>
                                        <p>Abstract database operations via Prisma ORM</p>
                                    </div>
                                    <div className="card">
                                        <h4>RESTful API Design</h4>
                                        <p>Resource-based URLs with HTTP verbs</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </CollapseSection>

                    {/* Data Model */}
                    <CollapseSection title="Data Model" icon="üìä">
                        <div>
                            <h3 style={{ marginBottom: '1.5rem' }}>Database Schema (Star Schema)</h3>
                            <div className="grid grid-2">
                                <div>
                                    <h4 style={{ marginBottom: '1rem', color: 'var(--primary-blue)' }}>Dimension Tables</h4>
                                    <div className="card" style={{ marginBottom: '1rem', borderLeft: '4px solid #3B82F6' }}>
                                        <h4>dim_geography</h4>
                                        <p style={{ marginBottom: '0.75rem' }}>Geography hierarchy: Nation ‚Üí State ‚Üí MSA/County ‚Üí City ‚Üí ZIP</p>
                                        <ul style={{ fontSize: '0.85rem' }}>
                                            <li>Self-referencing for parent-child relationships</li>
                                            <li>Supports all geo levels with FIPS/ZIP codes</li>
                                            <li>Includes lat/lon coordinates</li>
                                        </ul>
                                    </div>
                                    <div className="card" style={{ borderLeft: '4px solid #3B82F6' }}>
                                        <h4>dim_date</h4>
                                        <p style={{ marginBottom: '0.75rem' }}>Time dimension for analytics</p>
                                        <ul style={{ fontSize: '0.85rem' }}>
                                            <li>Year, quarter, month, week attributes</li>
                                            <li>Month/quarter end flags</li>
                                            <li>Reserved for future time-based analytics</li>
                                        </ul>
                                    </div>
                                </div>
                                <div>
                                    <h4 style={{ marginBottom: '1rem', color: 'var(--primary-blue)' }}>Fact Tables</h4>
                                    <div className="card" style={{ marginBottom: '1rem', borderLeft: '4px solid #10B981' }}>
                                        <h4>fact_market_metrics</h4>
                                        <p style={{ marginBottom: '0.75rem' }}>Market statistics from Redfin</p>
                                        <ul style={{ fontSize: '0.85rem' }}>
                                            <li>Pricing: median sale, list, price/sqft</li>
                                            <li>Activity: sales, listings, inventory, DOM</li>
                                            <li>Indicators: price drops, sold above list</li>
                                            <li>YoY/MoM changes precomputed</li>
                                        </ul>
                                    </div>
                                    <div className="card" style={{ marginBottom: '1rem', borderLeft: '4px solid #10B981' }}>
                                        <h4>fact_demographics</h4>
                                        <p style={{ marginBottom: '0.75rem' }}>US Census ACS 5-year data</p>
                                        <ul style={{ fontSize: '0.85rem' }}>
                                            <li>Population, income, rent metrics</li>
                                            <li>Owner/renter shares</li>
                                            <li>Education and commute statistics</li>
                                        </ul>
                                    </div>
                                    <div className="card" style={{ borderLeft: '4px solid #10B981' }}>
                                        <h4>fact_investment_score</h4>
                                        <p style={{ marginBottom: '0.75rem' }}>Calculated investment scores</p>
                                        <ul style={{ fontSize: '0.85rem' }}>
                                            <li>Overall + 4 component scores (0-100)</li>
                                            <li>Raw features for transparency</li>
                                            <li>Min-max normalized across all geos</li>
                                        </ul>
                                    </div>
                                </div>
                            </div>

                            <div className="highlight-box" style={{ marginTop: '2rem' }}>
                                <h4>Key Design Principles</h4>
                                <ul>
                                    <li>Denormalized facts for query performance</li>
                                    <li>UUID primary keys for distributed scalability</li>
                                    <li>Unique constraints prevent duplicates (upsert-friendly)</li>
                                    <li>Comprehensive indexes on filter/join columns</li>
                                </ul>
                            </div>
                        </div>
                    </CollapseSection>

                    {/* ETL Pipeline */}
                    <CollapseSection title="ETL Pipeline & Data Flows" icon="üîÑ">
                        <div>
                            <h3 style={{ marginBottom: '1.5rem' }}>Pipeline Overview</h3>
                            <div className="grid grid-3">
                                <div className="card" style={{ borderLeft: '4px solid #3B82F6' }}>
                                    <h4>1. Redfin Market ETL</h4>
                                    <p style={{ marginBottom: '0.75rem' }}>Parse CSV files, create geographies, load metrics</p>
                                    <div style={{ fontSize: '0.85rem', color: 'var(--text-light)' }}>
                                        <div>Input: CSV files</div>
                                        <div>Output: Geographies + Market Metrics</div>
                                        <div>Frequency: Daily (2 AM)</div>
                                    </div>
                                </div>
                                <div className="card" style={{ borderLeft: '4px solid #10B981' }}>
                                    <h4>2. Census Demographics ETL</h4>
                                    <p style={{ marginBottom: '0.75rem' }}>Fetch from Census API, map to geos, load demos</p>
                                    <div style={{ fontSize: '0.85rem', color: 'var(--text-light)' }}>
                                        <div>Input: Census ACS API</div>
                                        <div>Output: Demographics</div>
                                        <div>Frequency: Monthly (1st)</div>
                                    </div>
                                </div>
                                <div className="card" style={{ borderLeft: '4px solid #A855F7' }}>
                                    <h4>3. Investment Score Calc</h4>
                                    <p style={{ marginBottom: '0.75rem' }}>Calculate features, normalize, compute scores</p>
                                    <div style={{ fontSize: '0.85rem', color: 'var(--text-light)' }}>
                                        <div>Input: Metrics + Demos</div>
                                        <div>Output: Investment Scores</div>
                                        <div>Frequency: Daily (4 AM)</div>
                                    </div>
                                </div>
                            </div>

                            <div style={{ marginTop: '2rem', background: 'linear-gradient(135deg, var(--sky-blue) 0%, #F0F9FF 100%)', padding: '2rem', borderRadius: '12px' }}>
                                <h3 style={{ marginBottom: '1.5rem' }}>Investment Scoring Algorithm</h3>
                                <div className="grid grid-2">
                                    <div className="card">
                                        <h4>Growth Score (45%)</h4>
                                        <ul style={{ fontSize: '0.9rem' }}>
                                            <li>YoY price growth (60%)</li>
                                            <li>3-year CAGR (40%)</li>
                                            <li>Min-max normalized</li>
                                        </ul>
                                    </div>
                                    <div className="card">
                                        <h4>Affordability Score (25%)</h4>
                                        <ul style={{ fontSize: '0.9rem' }}>
                                            <li>Inverted price-to-income (70%)</li>
                                            <li>Rent yield proxy (30%)</li>
                                            <li>Lower is better</li>
                                        </ul>
                                    </div>
                                    <div className="card">
                                        <h4>Liquidity Score (20%)</h4>
                                        <ul style={{ fontSize: '0.9rem' }}>
                                            <li>Inverted DOM trend (60%)</li>
                                            <li>Sales volume growth (40%)</li>
                                            <li>Faster = better</li>
                                        </ul>
                                    </div>
                                    <div className="card">
                                        <h4>Renter Market Score (10%)</h4>
                                        <ul style={{ fontSize: '0.9rem' }}>
                                            <li>Renter-occupied share</li>
                                            <li>Higher = better for investors</li>
                                            <li>Normalized across markets</li>
                                        </ul>
                                    </div>
                                </div>
                                <div style={{ marginTop: '1.5rem', padding: '1rem', background: 'rgba(168, 85, 247, 0.1)', borderRadius: '8px', borderLeft: '4px solid var(--primary-blue)' }}>
                                    <code style={{ fontSize: '0.95rem', color: 'var(--text)' }}>
                                        Overall = (Growth √ó 0.45) + (Affordability √ó 0.25) + (Liquidity √ó 0.20) + (Renter √ó 0.10)
                                    </code>
                                </div>
                            </div>
                        </div>
                    </CollapseSection>

                    {/* REST API */}
                    <CollapseSection title="REST API Reference" icon="üîå">
                        <div>
                            <h3 style={{ marginBottom: '1.5rem' }}>Core Endpoints</h3>
                            <div style={{ display: 'flex', flexDirection: 'column', gap: '1rem' }}>
                                <div className="card" style={{ borderLeft: '4px solid #10B981' }}>
                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.5rem' }}>
                                        <h4 style={{ color: '#10B981' }}>GET /health</h4>
                                        <span className="badge badge-green">HEALTH</span>
                                    </div>
                                    <p style={{ fontSize: '0.9rem', color: 'var(--text-light)' }}>Health check endpoint</p>
                                    <pre style={{ marginTop: '0.75rem', fontSize: '0.8rem' }}>{'{"status": "ok", "timestamp": "2024-01-18T12:34:56.789Z"}'}</pre>
                                </div>

                                <div className="card" style={{ borderLeft: '4px solid #3B82F6' }}>
                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.5rem' }}>
                                        <h4 style={{ color: '#3B82F6' }}>GET /markets/top</h4>
                                        <span className="badge badge-blue">QUERY</span>
                                    </div>
                                    <p style={{ fontSize: '0.9rem', color: 'var(--text-light)', marginBottom: '0.5rem' }}>Top-ranked geographies by investment score</p>
                                    <div style={{ fontSize: '0.85rem', color: 'var(--text-light)' }}>
                                        <div><strong>Params:</strong> geo_type, limit, state, min_population</div>
                                        <div><strong>Returns:</strong> Array of markets with scores, metrics, demographics</div>
                                    </div>
                                </div>

                                <div className="card" style={{ borderLeft: '4px solid #A855F7' }}>
                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.5rem' }}>
                                        <h4 style={{ color: '#A855F7' }}>GET /markets/:id/timeseries</h4>
                                        <span className="badge badge-purple">ANALYTICS</span>
                                    </div>
                                    <p style={{ fontSize: '0.9rem', color: 'var(--text-light)', marginBottom: '0.5rem' }}>Historical market data for a geography</p>
                                    <div style={{ fontSize: '0.85rem', color: 'var(--text-light)' }}>
                                        <div><strong>Params:</strong> period_type, from, to</div>
                                        <div><strong>Returns:</strong> Time series of market metrics</div>
                                    </div>
                                </div>

                                <div className="card" style={{ borderLeft: '4px solid #F97316' }}>
                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.5rem' }}>
                                        <h4 style={{ color: '#F97316' }}>GET /markets/:id/profile</h4>
                                        <span className="badge badge-orange">DETAIL</span>
                                    </div>
                                    <p style={{ fontSize: '0.9rem', color: 'var(--text-light)' }}>Complete market profile with all data</p>
                                </div>

                                <div className="card" style={{ borderLeft: '4px solid #EC4899' }}>
                                    <div style={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', marginBottom: '0.5rem' }}>
                                        <h4 style={{ color: '#EC4899' }}>GET /markets/compare</h4>
                                        <span className="badge badge-pink">COMPARE</span>
                                    </div>
                                    <p style={{ fontSize: '0.9rem', color: 'var(--text-light)', marginBottom: '0.5rem' }}>Side-by-side market comparison</p>
                                    <div style={{ fontSize: '0.85rem', color: 'var(--text-light)' }}>
                                        <div><strong>Params:</strong> ids (comma-separated, max 10)</div>
                                    </div>
                                </div>
                            </div>

                            <div className="grid grid-2" style={{ marginTop: '2rem' }}>
                                <div className="card">
                                    <h4>API Features</h4>
                                    <ul style={{ fontSize: '0.9rem' }}>
                                        <li>RESTful design with Fastify</li>
                                        <li>JSON response format</li>
                                        <li>Query parameter validation</li>
                                        <li>CORS support</li>
                                        <li>Error handling with proper status codes</li>
                                    </ul>
                                </div>
                                <div className="card">
                                    <h4>Performance Targets</h4>
                                    <ul style={{ fontSize: '0.9rem' }}>
                                        <li>Response time: &lt;500ms (p95)</li>
                                        <li>Uptime: 99.9% SLA</li>
                                        <li>Concurrent users: 1,000+</li>
                                        <li>Rate limiting: 100 req/min (future)</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </CollapseSection>

                    {/* Infrastructure & Deployment */}
                    <CollapseSection title="Infrastructure & Deployment" icon="‚òÅÔ∏è">
                        <div className="grid grid-2">
                            <div>
                                <h3 style={{ marginBottom: '1.5rem' }}>Development Environment</h3>
                                <div className="card">
                                    <ul style={{ fontSize: '0.9rem' }}>
                                        <li>Node.js 18+ runtime</li>
                                        <li>PostgreSQL 14+ or SQLite</li>
                                        <li>VS Code / IDE</li>
                                        <li>Git version control</li>
                                    </ul>
                                </div>
                            </div>
                            <div>
                                <h3 style={{ marginBottom: '1.5rem' }}>Production (Future)</h3>
                                <div className="card">
                                    <ul style={{ fontSize: '0.9rem' }}>
                                        <li>Cloud Provider (AWS/GCP/Azure)</li>
                                        <li>Load Balancer + Auto Scaling</li>
                                        <li>Managed PostgreSQL (RDS/Cloud SQL)</li>
                                        <li>Redis for caching & queues</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div style={{ marginTop: '2rem' }}>
                            <h3 style={{ marginBottom: '1.5rem' }}>Scalability Strategy</h3>
                            <div className="grid grid-3">
                                <div className="card">
                                    <h4>Horizontal Scaling</h4>
                                    <ul style={{ fontSize: '0.9rem' }}>
                                        <li>Stateless API servers</li>
                                        <li>Load balancing</li>
                                        <li>Read replicas</li>
                                        <li>Distributed caching</li>
                                    </ul>
                                </div>
                                <div className="card">
                                    <h4>Vertical Scaling</h4>
                                    <ul style={{ fontSize: '0.9rem' }}>
                                        <li>Query optimization</li>
                                        <li>Index tuning</li>
                                        <li>Connection pooling</li>
                                        <li>Efficient algorithms</li>
                                    </ul>
                                </div>
                                <div className="card">
                                    <h4>Data Partitioning</h4>
                                    <ul style={{ fontSize: '0.9rem' }}>
                                        <li>Date-based partitions</li>
                                        <li>Archive old data</li>
                                        <li>Separate OLTP/OLAP</li>
                                        <li>Caching strategies</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <div className="card" style={{ marginTop: '1.5rem', borderLeft: '4px solid #F97316' }}>
                            <h4>Disaster Recovery</h4>
                            <div className="grid grid-2" style={{ fontSize: '0.9rem', gap: '1rem' }}>
                                <div><strong>RTO:</strong> &lt;4 hours</div>
                                <div><strong>RPO:</strong> &lt;1 hour</div>
                                <div><strong>Backups:</strong> Daily automated</div>
                                <div><strong>Retention:</strong> 30 days</div>
                            </div>
                        </div>
                    </CollapseSection>

                    {/* Security */}
                    <CollapseSection title="Security Architecture" icon="üîí">
                        <div className="grid grid-2">
                            <div>
                                <h3 style={{ marginBottom: '1.5rem' }}>Current Measures</h3>
                                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>
                                    <div className="card" style={{ borderLeft: '4px solid #10B981' }}>
                                        <h4 style={{ color: '#10B981' }}>SQL Injection Protection</h4>
                                        <p style={{ fontSize: '0.9rem' }}>Prisma ORM with prepared statements</p>
                                    </div>
                                    <div className="card" style={{ borderLeft: '4px solid #10B981' }}>
                                        <h4 style={{ color: '#10B981' }}>Environment Variables</h4>
                                        <p style={{ fontSize: '0.9rem' }}>Secrets in .env, excluded from Git</p>
                                    </div>
                                    <div className="card" style={{ borderLeft: '4px solid #10B981' }}>
                                        <h4 style={{ color: '#10B981' }}>Input Validation</h4>
                                        <p style={{ fontSize: '0.9rem' }}>TypeScript + Fastify schema validation</p>
                                    </div>
                                    <div className="card" style={{ borderLeft: '4px solid #10B981' }}>
                                        <h4 style={{ color: '#10B981' }}>Error Handling</h4>
                                        <p style={{ fontSize: '0.9rem' }}>No sensitive data in error messages</p>
                                    </div>
                                </div>
                            </div>
                            <div>
                                <h3 style={{ marginBottom: '1.5rem' }}>Future Enhancements</h3>
                                <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>
                                    <div className="card" style={{ borderLeft: '4px solid #3B82F6' }}>
                                        <h4 style={{ color: '#3B82F6' }}>Authentication</h4>
                                        <p style={{ fontSize: '0.9rem' }}>JWT tokens, OAuth 2.0, API keys</p>
                                    </div>
                                    <div className="card" style={{ borderLeft: '4px solid #3B82F6' }}>
                                        <h4 style={{ color: '#3B82F6' }}>Rate Limiting</h4>
                                        <p style={{ fontSize: '0.9rem' }}>Per-IP and per-user limits, DDoS protection</p>
                                    </div>
                                    <div className="card" style={{ borderLeft: '4px solid #3B82F6' }}>
                                        <h4 style={{ color: '#3B82F6' }}>Encryption</h4>
                                        <p style={{ fontSize: '0.9rem' }}>TLS/SSL, encryption at rest, secret management</p>
                                    </div>
                                    <div className="card" style={{ borderLeft: '4px solid #3B82F6' }}>
                                        <h4 style={{ color: '#3B82F6' }}>Compliance</h4>
                                        <p style={{ fontSize: '0.9rem' }}>GDPR, SOC 2 Type II, penetration testing</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </CollapseSection>
                </section>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>